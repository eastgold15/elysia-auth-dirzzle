# Elysia Auth Drizzle - NPMåŒ…æµ‹è¯•ç¤ºä¾‹

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•é€šè¿‡npmåŒ…çš„æ–¹å¼å®‰è£…å’Œæµ‹è¯• `elysia-auth-drizzle` è®¤è¯æ’ä»¶ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ„å»ºä¸»åŒ…

é¦–å…ˆï¼Œåœ¨ä¸»é¡¹ç›®ç›®å½•ä¸­æ„å»ºnpmåŒ…ï¼š

```bash
# åœ¨ä¸»é¡¹ç›®æ ¹ç›®å½• (elysia-auth-dirzzle2) æ‰§è¡Œ
cd ..
npm run build
```

### 2. æ‰“åŒ…ä¸ºæœ¬åœ°npmåŒ…

```bash
# åœ¨ä¸»é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
npm pack
# è¿™ä¼šç”Ÿæˆ elysia-auth-drizzle-1.0.0.tgz æ–‡ä»¶
```

### 3. å®‰è£…ä¾èµ–å’Œæœ¬åœ°åŒ…

```bash
# åœ¨ example2 ç›®å½•æ‰§è¡Œ
cd example2
npm install

# å®‰è£…æœ¬åœ°æ„å»ºçš„åŒ…
npm run install-local
# æˆ–è€…æ‰‹åŠ¨å®‰è£…ï¼š
# npm install ../elysia-auth-drizzle-1.0.0.tgz
```

### 4. æµ‹è¯•åŒ…åŠŸèƒ½

```bash
# è¿è¡ŒåŒ…åŠŸèƒ½æµ‹è¯•
npm run test-package
```

### 5. è¿è¡Œç¤ºä¾‹æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

## ğŸ“ æ–‡ä»¶è¯´æ˜

- `src/index.ts` - ä½¿ç”¨npmåŒ…æ–¹å¼å¯¼å…¥çš„å®Œæ•´ç¤ºä¾‹
- `src/test-package.ts` - åŒ…åŠŸèƒ½æµ‹è¯•è„šæœ¬
- `package.json` - åŒ…å«æœ¬åœ°åŒ…å®‰è£…è„šæœ¬çš„é…ç½®

## ğŸ”§ æµ‹è¯•æµç¨‹

### æ–¹æ³•ä¸€ï¼šå®Œæ•´æµ‹è¯•æµç¨‹

```bash
# 1. æ„å»ºä¸»åŒ…
cd .. && npm run build

# 2. æ‰“åŒ…
npm pack

# 3. å®‰è£…æµ‹è¯•
cd example2
npm install
npm run install-local

# 4. åŠŸèƒ½æµ‹è¯•
npm run test-package

# 5. è¿è¡Œç¤ºä¾‹
npm run dev
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨å‘å¸ƒçš„npmåŒ…

å¦‚æœåŒ…å·²å‘å¸ƒåˆ°npm registryï¼š

```bash
# ç›´æ¥å®‰è£…å‘å¸ƒçš„åŒ…
npm install elysia-auth-drizzle

# è¿è¡Œæµ‹è¯•
npm run test-package
npm run dev
```

## ğŸ§ª æµ‹è¯•å†…å®¹

æµ‹è¯•è„šæœ¬ä¼šéªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š

1. âœ… **åŒ…å¯¼å…¥** - éªŒè¯æ‰€æœ‰å¯¼å‡ºçš„å‡½æ•°å’Œç±»å‹
2. âœ… **æ’ä»¶åˆå§‹åŒ–** - æµ‹è¯•æ’ä»¶é…ç½®å’Œåˆå§‹åŒ–
3. âœ… **è·¯ç”±é…ç½®** - éªŒè¯å…¬å¼€å’Œå—ä¿æŠ¤è·¯ç”±
4. âœ… **ç±»å‹å®šä¹‰** - ç¡®ä¿TypeScriptç±»å‹æ­£ç¡®
5. âœ… **ä¾èµ–å…¼å®¹æ€§** - æ£€æŸ¥ä¸Elysiaå’ŒDrizzleçš„å…¼å®¹æ€§

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **åŒ…å¯¼å…¥å¤±è´¥**
   ```bash
   # ç¡®ä¿åŒ…å·²æ­£ç¡®æ„å»º
   cd .. && npm run build
   
   # é‡æ–°å®‰è£…æœ¬åœ°åŒ…
   npm run install-local
   ```

2. **ä¾èµ–ç¼ºå¤±**
   ```bash
   # å®‰è£…æ‰€æœ‰ä¾èµ–
   npm install
   ```

3. **ç±»å‹é”™è¯¯**
   ```bash
   # ç¡®ä¿TypeScripté…ç½®æ­£ç¡®
   npx tsc --noEmit
   ```

### éªŒè¯å®‰è£…

æ£€æŸ¥åŒ…æ˜¯å¦æ­£ç¡®å®‰è£…ï¼š

```bash
# æŸ¥çœ‹å·²å®‰è£…çš„åŒ…
npm list elysia-auth-drizzle

# æŸ¥çœ‹åŒ…å†…å®¹
ls node_modules/elysia-auth-drizzle/
```

## ğŸ“‹ APIæµ‹è¯•

å¯åŠ¨æœåŠ¡å™¨åï¼Œå¯ä»¥æµ‹è¯•ä»¥ä¸‹ç«¯ç‚¹ï¼š

```bash
# å…¬å¼€è·¯ç”±ï¼ˆæ— éœ€è®¤è¯ï¼‰
curl http://localhost:3000/public/test

# å—ä¿æŠ¤è·¯ç”±ï¼ˆéœ€è¦è®¤è¯ï¼‰
curl http://localhost:3000/protected
```

## ğŸ”„ å¼€å‘æ¨¡å¼åˆ‡æ¢

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åœ¨æœ¬åœ°åŒ…å’Œæºç ä¹‹é—´åˆ‡æ¢ï¼š

```typescript
// ä½¿ç”¨npmåŒ…ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰
import { elysiaAuthDrizzlePlugin } from 'elysia-auth-drizzle';

// ä½¿ç”¨æºç ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
// import { elysiaAuthDrizzlePlugin } from '../../src/index';
```

## ğŸ“¦ åŒ…ç»“æ„éªŒè¯

æˆåŠŸå®‰è£…åï¼ŒåŒ…åº”åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

```
node_modules/elysia-auth-drizzle/
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ index.mjs          # ESMæ ¼å¼
â”‚   â”œâ”€â”€ index.d.ts         # TypeScriptç±»å‹å®šä¹‰
â”‚   â””â”€â”€ cjs/
â”‚       â””â”€â”€ index.js       # CommonJSæ ¼å¼
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

è¿™æ ·å°±å¯ä»¥å®Œå…¨æ¨¡æ‹ŸçœŸå®çš„npmåŒ…ä½¿ç”¨åœºæ™¯ï¼Œç¡®ä¿æ’ä»¶åœ¨å®é™…éƒ¨ç½²æ—¶èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚